/* Copyright 2011-2013 elementary LLC.
*
* This file is part of the elementary GTK theme.
*
* The elementary GTK theme is free software: you can redistribute it
* and/or modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* The elementary GTK theme is distributed in the hope that it will be
* useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
* Public License for more details.
*
* You should have received a copy of the GNU General Public License along
* with the elementary GTK theme. If not, see http://www.gnu.org/licenses/.
*/

* {
    background-clip: padding-box;

    -GtkScrolledWindow-scrollbars-within-bevel: 1;
    -GtkPaned-handle-size: 8px;

    -GtkWidget-link-color: @link_color;
    -GtkWidget-visited-link-color: @link_color;
    -GtkIMHtml-hyperlink-color: @link_color;
    -GtkHTML-link-color: @link_color;

    -GtkWidget-focus-line-width: 0;
}

GtkWindow {
    background-color: @bg_color
}

/***************
 * Base States *
 **************/

.background {
    color: @fg_color;
    background-color: @bg_color;
}

/* FIXME: I shouldn't need this */
* {
    color: @fg_color;
}

*:selected,
*:selected:focus {
    background-color: alpha (@selected_bg_color, 0.9);
    color: @selected_fg_color;
}

*:insensitive {
    color: @insensitive_color;
    icon-shadow: 0 1px alpha (#fff, 0.4);
    text-shadow: 0 1px alpha (#fff, 0.4);

    -gtk-image-effect: dim;
}

*:hover {
    -gtk-image-effect: none;
}

.gtkstyle-fallback {
    background-color: @bg_color;
    color: @fg_color;
}

/************
 * Tooltips *
 ************/
 
.tooltip,
.files-overlay-bar {
    background-color: alpha (black, 0.7);
    border-radius: 3px;
    border: 0;
    padding: 3px 6px;
    margin: 3px;
    text-shadow: 0 1px 2px alpha (#000, 0.6);
}

.tooltip GtkLabel,
.files-overlay-bar GtkLabel {
    color: white;
    text-shadow: 0 1px 2px alpha (#000, 0.6);
}

/*****************
 * Miscellaneous *
 ****************/

@keyframes spinner {
    0.00% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)); }

    12.5% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)); }

    25.0% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)); }

    37.5% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)); }

    50.0% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)); }

    62.5% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)); }

    75.0% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)); }

    87.5% { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)); }

    100%  { background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                              -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)); }
}

.spinner {
    background-color: transparent;
    background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent));
    background-position: 14% 14%, 0% 50%, 14% 86%, 50% 100%, 86% 86%, 100% 50%, 86% 14%, 50% 0%;
    background-size: 20% 20%;
    background-repeat: no-repeat;
}

.spinner:active {
    background-image: -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.875)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.750)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.625)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.500)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.375)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.250)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(alpha(currentColor, 0.125)), to(transparent)),
                      -gtk-gradient(radial, center center, 0, center center, 0.5, to(currentColor), to(transparent));
    animation: spinner 1s infinite linear;
}

.view.rubberband,
.rubberband {
    background-color: alpha (@selected_bg_color, 0.35);
    border: 1px solid @selected_bg_color;
}

.dnd {
    background-color: alpha (@selected_bg_color, 0.4);
    background-image: none;

    border: 1px solid @selected_bg_color;
    border-radius: 3px;

    margin: 3px;
}

/**************
 * Separators *
 *************/

.separator {
    color: alpha (#000, 0.15);
    -GtkMenuItem-horizontal-padding: 0;
}

.toolbar .separator {
    color: transparent;
}

.pane-separator,
.pane-separator:prelight,
.pane-separator:selected {
    border: 1px solid shade (@base_color, 0.55);
    border-width: 0 1px;

    background-image: url("assets/pane-handle.svg"),
                        linear-gradient(to right,
                                  @base_color,
                                  shade (@base_color, 0.88)
                                  );
    background-position: 50%;
    background-repeat: no-repeat;
}

.pane-separator.vertical,
.pane-separator.vertical:prelight,
.pane-separator.vertical:selected {
    border-width: 1px 0;
    
    background-image: url("assets/pane-handle.svg"),
                        linear-gradient(to bottom,
                                  @base_color,
                                  shade (@base_color, 0.88)
                                  );
}

/*************
* Text Entry *
*************/

/* FIXME: Why is there a wildcard here? */
*.entry {
    background-image: linear-gradient(to bottom,
                                  alpha (#000, 0.10),
                                  @transparent 5px
                                  ),
                        linear-gradient(to bottom,
                                  shade (@base_color, 0.90),
                                  @base_color
                                  );

    border: 1px solid alpha (#000, 0.27);
    border-radius: 2.5px;

    box-shadow: inset 0 0 0 1px alpha (#000, 0.06),
                0 1px 0 1px alpha (#fff, 0.30);

    -GtkEntry-progress-border: 0;

    icon-shadow: 0 1px alpha (#fff, 0.4);
    text-shadow: 0 1px alpha (#fff, 0.4);

    padding: 4px;

    transition: all 200ms ease-out;
}


*.entry:focus {
    border-color: alpha (@selected_bg_color, 0.80);
    box-shadow: inset 0 0 0 1px alpha (@selected_bg_color, 0.23),
                0 1px 0 1px alpha (#fff, 0.30);

    transition: all 200ms ease-in;
}


.entry.progressbar,
.entry.progressbar:focus {
    background-image: linear-gradient(to bottom,
                                  shade (@selected_bg_color, 1.23),
                                  shade (@selected_bg_color, 1.37)
                                  );
    border-color: @selected_bg_color;
}

.entry:insensitive {
    background-image: linear-gradient(to bottom,
                                  alpha (#000, 0.05),
                                  @transparent 5px
                                  );

    border-color: alpha (#000, 0.25);
    box-shadow: inset 0 0 0 1px alpha (#000, 0.06),
                0 1px 0 1px alpha (#fff, 0.30);
}

/*******************
 * Symbolic Images *
 ******************/

.image {
    color: @fg_color;
}

/*FIXME: This fucks up progressbar entry icons */
 
.entry.image {
    color: shade (@text_color, 2);
}

.entry.image:hover {
    color: @text_color;
}

/*****************
 * GtkSpinButton *
 *****************/

.spinbutton .button {
    border-width: 0;
    border-radius: 0;
    border-style: none;
    border-image: none;

    background-color: @transparent;
    background-image: none;

    box-shadow: inset 1px 0 alpha (#000, 0.10);

    padding: 2px 6px;
}

.spinbutton .button:insensitive,
.spinbutton .button:focus:insensitive {
    background-color: alpha (#000, 0.02);
    color: @insensitive_color;
}

.spinbutton .button:first-child {
    border-radius: 2px 0 0 2px;
    box-shadow: none;
}

.spinbutton .button:last-child {
    border-radius: 0 2px 2px 0;
}

.spinbutton .button:dir(rtl) {
    box-shadow: inset -1px 0 alpha (#000, 0.10);
}

/****************
 * Progress bar *
 ****************/

GtkProgressBar {
    border-radius: 12px;
    padding: 1px;
}

GtkProgressBar.progressbar {
    background-image: linear-gradient(to bottom,
                                  shade (@base_color, 0.88),
                                  @base_color
                                  );

    border-style: none;
    box-shadow: inset 0 0 0 1px alpha (#fff, 0.40);
}

GtkProgressBar.trough {
    border: 1px solid alpha (#000, 0.35);

    background-image: linear-gradient(to bottom,
                                  alpha (#000, 0.15),
                                  alpha (#000, 0.07)
                                  );

    box-shadow: inset 0 0 0 1px alpha (#000, 0.03);
}

/**********************************
 * Progress bar in a Tree or Cell *
 *********************************/

.progressbar row,
.progressbar row:hover {
    color: @selected_fg_color;
    text-shadow: 0 1px alpha (#000, 0.3);
    icon-shadow: 0 1px alpha (#000, 0.3);

    background-image: linear-gradient(to left top,
                                  alpha (#fff, 0.10),
                                  alpha (#fff, 0.10) 25%,
                                  transparent 25%,
                                  transparent 50%,
                                  alpha (#fff, 0.10) 50%,
                                  alpha (#fff, 0.10) 75%,
                                  transparent 75%,
                                  transparent
                                  ),
                        linear-gradient(to bottom,
                                  shade (@selected_bg_color, 1.30),
                                  shade (@selected_bg_color, 1.20) 50%,
                                  shade (@selected_bg_color, 1.08) 60%,
                                  shade (@selected_bg_color, 1.08) 70%,
                                  shade (@selected_bg_color, 1.30)
                                  );

    background-size: 24px 24px, auto;

    border-style: solid;
    border-width: 1px;

    border-image: linear-gradient(to bottom,
                                  shade (@selected_bg_color, 1.05),
                                  shade (@selected_bg_color, 0.88)
                                  ) 1 1 1 1;

    box-shadow: inset 0 1px 0 0 alpha (#fff, 0.50),
                inset 0 -1px 0 0 alpha (#fff, 0.25);
}

.progressbar row:backdrop,
.progressbar row:backdrop:hover,
.progressbar row:selected:backdrop,
.progressbar row:selected:backdrop:hover {
    background-image: linear-gradient(to left top,
                                  alpha (#fff, 0.10),
                                  alpha (#fff, 0.10) 25%,
                                  transparent 25%,
                                  transparent 50%,
                                  alpha (#fff, 0.10) 50%,
                                  alpha (#fff, 0.10) 75%,
                                  transparent 75%,
                                  transparent
                                  ),
                        linear-gradient(to bottom,
                                  @bg_color,
                                  shade (@bg_color, 0.90) 50%,
                                  shade (@bg_color, 0.78) 60%,
                                  shade (@bg_color, 0.78) 70%,
                                  @bg_color
                                  );

    border-image: linear-gradient(to bottom,
                                  shade (@bg_color, 0.80),
                                  shade (@bg_color, 0.63)
                                  ) 1 1 1 1;
}

.progressbar row:selected,
.progressbar row:selected:focused {
    background-image: linear-gradient(to bottom,
                                  shade (@selected_bg_color, 1.30),
                                  shade (@selected_bg_color, 1.20) 50%,
                                  shade (@selected_bg_color, 1.08) 60%,
                                  shade (@selected_bg_color, 1.08) 70%,
                                  shade (@selected_bg_color, 1.30)
                                  );

    border-image: linear-gradient(to bottom,
                                  shade (@selected_bg_color, 0.87),
                                  shade (@selected_bg_color, 0.80)
                                  ) 1 1 1 1;
}

.trough row,
.trough row:hover,
.trough row:selected:backdrop,
.trough row:selected:backdrop:hover  {

    padding: 0;

    border-style: solid;
    border-width: 1px;

    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 1.10),
                                  shade (@bg_color, 1.05) 50%,
                                  shade (@bg_color, 0.93) 60%,
                                  shade (@bg_color, 0.93) 70%,
                                  shade (@bg_color, 1.10)
                                  );

    border-image: linear-gradient(to bottom,
                                  shade (@bg_color, 0.78),
                                  shade (@bg_color, 0.70)
                                  ) 1 1 1 1;

    box-shadow: inset 0 0 0 1px alpha (#fff, 0.20);
}

.trough row:selected,
.trough row:selected:focused  {
    color: @text_color;

    border-image: linear-gradient(to bottom,
                                  shade (@selected_bg_color, 0.87),
                                  shade (@selected_bg_color, 0.80)
                                  ) 1 1 1 1;

    text-shadow: 0 1px alpha (#fff, 0.4);
    icon-shadow: 0 1px alpha (#fff, 0.4);
}

/***************
 * Header Bars *
 **************/

.header-bar {
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 1.04),
                                  shade (@bg_color, 0.84)
                                  );

    border-color: shade (@bg_color, 0.56);
    border-radius: 3px 3px 0 0;
    border-style: solid;
    border-width: 0 0 1px;

    box-shadow: inset 0 0 0 1px alpha (#fff, 0.20);

    padding: 4px 6px 4px 6px;

    text-shadow: 0 1px alpha (#fff, 0.4);
    icon-shadow: 0 1px alpha (#fff, 0.4);
}

.header-bar:backdrop {
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 1.10),
                                  shade (@bg_color, 0.98)
                                  );

    border-color: shade (@bg_color, 0.66);

    box-shadow: inset 0 0 0 1px alpha (#fff, 0.30);
}

.header-bar .button.text-button {
    padding: 2px 16px;
}

.header-bar .button.image-button {
    padding: 5px 4px 5px 5px;
}

.header-bar .separator {
    color: @transparent
}

.header-bar .title {
    color: alpha (#000, 0.50);
    font: Bold 9;
    text-shadow: 0 1px alpha (#fff, 0.6);
}

.header-bar .title:backdrop {
    color: alpha (#000, 0.30);
    text-shadow: 0 1px alpha (#fff, 0.4);
}

/**************
* Text Styles *
**************/

.title { font: raleway thin 36; }
.h1 { font: open sans bold 24; }
.h2 { font: open sans light 18; }
.h3 { font: open sans bold 12; }

/*************
 * assistant *
 *************/

GtkAssistant .sidebar .highlight {
    color: @fg_color;
    font: bold;
}

GtkAssistant .sidebar {
    background-color: shade (@bg_color, 0.97);
    border-color: shade (@bg_color, 0.8);
    border-style: solid;
    border-width: 1px 1px 0 0;
    color: mix (@fg_color, @bg_color, 0.40);
    padding: 12px;
    text-shadow: 0 1px shade (@bg_color, 1.04);
}

/***********
* Calendar *
************/

GtkCalendar {
    border-radius: 2px;
}

GtkCalendar.button,
GtkCalendar.button:insensitive,
GtkCalendar.header,
GtkCalendar.view {
    background-color: @transparent;
    background-image: none;
}

.highlight,
GtkCalendar.highlight {
    color: #777;
}

/***********
* Expander *
***********/

.expander {
    color: @fg_color;
}

.expander row:selected,
.expander row:selected:focus {
    color: @selected_fg_color;
}

/********
 * Grip *
 ********/

.grip {
    background-color: @transparent;
    background-image: url("assets/resize-grip.svg");
}

/************
 * iconview *
 ************/

GtkIconView.view.cell:selected,
GtkIconView.view.cell:selected:focus {
    background-color: alpha (#000, 0.18);
    border-color: shade (@base_color, 0.74);
    border-radius: 4px;
    color: @text_color;
    box-shadow: inset 0 0 0 1px alpha (#000, 0.06);
}

/***********
 * infobar *
 ***********/
 
.info,
.question,
.warning,
.error {
    border-style: solid;
    border-width: 0 0 1px 0;
    box-shadow: inset 0 1px 0 0 alpha (#fff, 0.30),
                inset 0 -1px 0 0 alpha (#fff, 0.06);
}

.info {
    background-image: linear-gradient(to bottom,
                                  #fafafa,
                                  #f6f6f6
                                  );
    border-color: #c3c3c3;
}

.info GtkLabel {
    color: @text_color;
}

.question {
    background-image: linear-gradient(to bottom,
                                  #55c1ec,
                                  #44a2e9
                                  );
    border-color: #357fb8;
}

.question GtkLabel {
    color: #004166;
}

.warning {
    background-image: linear-gradient(to bottom,
                                  #fdde76,
                                  #fbd058
                                  );
    border-color: #c09e42;
}

.warning GtkLabel {
    color: #664e00;
}

.error {
    background-image: linear-gradient(to bottom,
                                  #e35d4f,
                                  #d33f3d
                                  );
    border-color: #a2302e;
}

.error GtkLabel {
    color: #660000;
}

GtkInfoBar GtkLabel {
    icon-shadow: 0 1px alpha (#fff, 0.3);
    text-shadow: 0 1px alpha (#fff, 0.3);
}

GtkInfoBar .entry,
GtkInfoBar .menu {
    color: @text_color;
}


GtkInfoBar GtkLabel:insensitive {
    color: @insensitive_color;

}

/************
 * Switches *
 ***********/

GtkSwitch {
    padding: 1px 3px 1px 1px;
    -GtkSwitch-slider-width: 22;
    -GtkSwitch-slider-height: 22;
}

GtkSwitch:active {
    padding: 1px 1px 1px 3px;
}

GtkSwitch.trough,
GtkSwitch.trough:backdrop {
    background: none;
    background-image: url("assets/switch-off.svg");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 48px 24px;
    border: none;
    border-image: none;
    color: @transparent;
    font: open sans bold 1;
    text-shadow: none;
}

GtkSwitch.trough:active {
    background-image: url("assets/switch-on.svg");
}

GtkSwitch.trough:insensitive {
    background-image: url("assets/switch-off-disabled.svg");
}

GtkSwitch.trough:active:insensitive {
    background-image: url("assets/switch-on-disabled.svg");
}

GtkSwitch.slider {
    background-image: url("assets/switch-slider.svg");
    background-size: 22px 22px;
    background-position: center center;
    background-repeat: no-repeat;
    border: none;
    color: @transparent;
}

GtkSwitch.slider:focus {
    background-image: url("assets/switch-slider-focus.svg");

}

GtkSwitch.slider:insensitive {
    background-image: none;
    background-color: @transparent;
}

/********
* Views *
********/

.view {
    background-color: @base_color;
}

.view:selected {
    background-color: shade (@base_color, 0.80);
    color: @text_color;
}

.view:selected:focus {
    background-color: @selected_bg_color;
    color: @selected_fg_color;
}

/**************
 * ComboBoxes *
 **************/

GtkComboBox {
    -GtkComboBox-arrow-scaling: 0.5;
    -GtkComboBox-shadow-type: none;
}

GtkComboBox .separator {
    color: @transparent;
}

GtkComboBox.combobox-entry .entry:first-child,
GtkComboBox.combobox-entry .button:first-child {
    border-radius: 2.5px 0 0 2.5px;
    border-width: 1px 0 1px 1px;
}

GtkComboBox.combobox-entry .entry:last-child,
GtkComboBox.combobox-entry .button:last-child {
    border-radius: 0 2.5px 2.5px 0;
    border-width: 1px;

    background-image: linear-gradient(to bottom,
                                  shade (@base_color, 0.82),
                                  shade (@base_color, 0.90) 20%,
                                  @base_color
                                  );

    box-shadow: inset 0 0 0 1px alpha (#000, 0.06);
}

/**********************
 * Notebooks and Tabs *
 **********************/

.dynamic-notebook {
    /* FIXME: should really use border */
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 0.76),
                                  shade (@bg_color, 0.83) 17%,
                                  shade (@bg_color, 0.90) 93%,
                                  shade (@bg_color, 0.10)
                                  );
}

.dynamic-notebook GtkLabel:insensitive,
.dynamic-notebook .image:insensitive {
   color: shade (@bg_color, 0.65);
}

.dynamic-notebook .notebook {
    border-width: 0;

    -GtkNotebook-tab-overlap: 1px;
    -GtkNotebook-initial-gap: 10px;
}

.dynamic-notebook .notebook tab {
    padding: 2px 3px;

    border-radius: 0;

    background-image: none;
    background-color: @transparent;

    border-width: 0 1px 0 0;

    border-image: linear-gradient(to bottom,
                                  @transparent,
                                  alpha (#000, 0.20)
                                  ) 0 1 0 0;
}

.dynamic-notebook .notebook tab GtkImage {
    color: shade (@bg_color, 0.35);
}

.dynamic-notebook .notebook tab:nth-child(first) {
    border-width: 0 1px 0 1px;
    border-image: linear-gradient(to bottom,
                                  @transparent,
                                  alpha (#000, 0.20)
                                  ) 0 1 0 1;
}

.dynamic-notebook .notebook tab:active {
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 1.04),
                                  @bg_color
                                  );

    border-image: none;
    border: 1px solid alpha (#000, 0.30);
    border-radius: 4px;

    color: @text_color;

    box-shadow: inset 0 0 0 1px alpha (#fff, 0.43);

}

.notebook {
    border: 1px solid shade (@bg_color, 0.60);

    border-radius: 2.5px;

    -GtkNotebook-tab-overlap: 5px;

    background-clip: border-box;
    background-color: shade (@bg_color, 1.06);

    text-shadow: 0 1px alpha (#fff, 0.4);
    icon-shadow: 0 1px alpha (#fff, 0.4);
}

.notebook GtkViewport {
    background-color: @base_color;
}

.notebook tab {
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 0.75),
                                  shade (@bg_color, 0.80)
                                  );

    border-radius: 4px;

    padding: 2px 3px 0;
}

.dynamic-notebook .notebook tab .entry {
    border-radius: 2px;
    padding: 1px 5px;
}

.notebook tab .entry {
    border-radius: 2px;
    padding: 2px 5px;
}

.notebook tab:active {
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 1.24),
                                  shade (@bg_color, 1.06)
                                  );

        color: @text_color;
}

.dynamic-notebook .notebook tab .button,
.dynamic-notebook .notebook tab .button:hover,
.dynamic-notebook .notebook tab .button:hover:active,
.notebook tab .button:hover,
.notebook tab .button:hover:active {
    border-radius: 2.5px;

    padding: 0;

    -GtkButton-inner-border: 0;
    -GtkButton-image-spacing: 0;
    -GtkButton-inner-border: 0;

    background-image:   none;
    background-color:   alpha (#000, 0.02);

    border-color: alpha (#000, 0.29);
}

.dynamic-notebook .notebook tab .button:hover:active,
.notebook tab .button:hover:active {
    background-color:   alpha (#000, 0.10);
}

GtkTreeView {
    -GtkTreeView-vertical-separator: 5px;
    -GtkTreeView-horizontal-separator: 6px;
    -GtkTreeView-expander-size: 8px;
    -GtkTreeView-grid-line-pattern: "\000\000";
}

GtkTreeView row:nth-child(even) {
    background-color: @base_color;
}

GtkTreeView row:nth-child(odd) {
    background-color: shade (@base_color, 0.96);
}

GtkTreeView .entry {
    border-radius: 0;
}

ConversationList.view.cell {
    background-color: red;
}

.cell {
    color: @text_color;
}

.cell:selected,
.cell:selected:focus {
    background-color: @selected_bg_color;
    color: @selected_fg_color;
}

.cell {
    border-width: 0px;
}

@import url("button.css");
@import url("menu.css");
@import url("granite-widgets.css");
@import url("scale.css");
@import url("scrollbar.css");
@import url("toolbar.css");
@import url("content-view.css");
@import url("apps.css");

/**********************
 * Column Headers *
 *********************/

column-header .button,
.content-view column-header .button {
    border-radius: 0;
}

column-header:nth-child(first) .button,
.content-view column-header:nth-child(first) .button {
    border-width: 0 0 1px 0;
}

column-header .button {
    background-image: linear-gradient(to bottom,
                                  shade (@base_color, 0.88),
                                  @base_color
                                  );

    border-image: linear-gradient(to bottom,
                                  shade (@base_color, 0.88),
                                  shade (@base_color, 0.70)
                                  ) 0 0 1 1;
    border-width: 0 0 1px 1px;
    font: bold;
    padding: 4px 2px 4px 2px;
}

column-header .button:hover {
    background-image: linear-gradient(to bottom,
                                  shade (@base_color, 0.80),
                                  @base_color
                                  );
}

/*********
* Linked *
*********/

/* Middle button */
.linked .entry,
.linked .button,
.linked .button:active,
.linked .button:active:hover,
.linked .button:focus,
.linked .button:focus:active,
.linked .button:insensitive {
    border-right-width: 0;
    border-radius: 0;
}

/*********
* Linked *
*********/

/* Middle button */
.linked .entry,
.linked .button,
.linked .button:active,
.linked .button:active:hover,
.linked .button:focus,
.linked .button:focus:active,
.linked .button:insensitive {
    border-right-width: 0;
    border-radius: 0;
}

/* Leftmost button */
.linked .entry:first-child,
.linked .button:first-child,
.linked .button:active:first-child,
.linked .button:active:hover:first-child,
.linked .button:focus:first-child,
.linked .button:focus:active:first-child,
.linked .button:insensitive:first-child {
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 2.5px;
    border-top-left-radius: 2.5px;
}

/* Rightmost button */
.linked .entry:last-child,
.linked .button:last-child,
.linked .button:active:last-child,
.linked .button:active:hover:last-child,
.linked .button:focus:last-child,
.linked .button:focus:active:last-child,
.linked .button:insensitive:last-child {
    border-right-width: 1px;
    border-bottom-right-radius: 2.5px;
    border-top-right-radius: 2.5px;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Linked single button */
.linked .entry:only-child,
.linked .button:only-child,
.linked .button:active:only-child,
.linked .button:active:hover:only-child,
.linked .button:focus:only-child,
.linked .button:focus:active:only-child,
.linked .button:insensitive:only-child {
    border-width: 1px;
    border-radius: 2.5px;
}

/**********
 * Frames *
 **********/

.frame {
    border: 1px solid shade (@bg_color, 0.70);
    padding: 0;
    color: lighter (@theme_fg_color);
}

GtkScrolledWindow.frame {
    border: 1px solid shade (@bg_color, 0.70);
    padding: 0;
}

/* avoid borders when a viewport is
 * packed into a ScrolledWindow or Pane */
GtkScrolledWindow GtkViewport.frame,
GtkPaned .frame {
    border-style: none;
}

/*************************
 * Check and Radio items *
 *************************/

.check {
    background-image: url("assets/check.svg");
    background-repeat: no-repeat;
    background-position: center;
}

.check:focus {
    background-image: url("assets/check-focus.svg"); 
}

.check:active {
    background-image: url("assets/check-active.svg"); 
}

.radio {
    background-image: url("assets/radio.svg");
    background-repeat: no-repeat;
    background-position: center;
}

.radio:active {
    background-image: url("assets/radio-active.svg"); 
}

/*******
 * CSD *
 ******/

.titlebar {
    background-image: linear-gradient(to bottom,
                                  shade (@bg_color, 1.04),
                                  shade (@bg_color, 0.84)
                                  );
    border-radius: 4px 4px 0 0;

    text-shadow: 0 1px alpha (#fff, 0.4);
    icon-shadow: 0 1px alpha (#fff, 0.4);
}

.titlebar.default-decoration {
    border: none;
    box-shadow: none;
}

.titlebar .title {
    font: Bold 9;
}


.titlebar .titlebutton {
    icon-shadow: 0px 1px alpha (#fff, 0.4);
    color: alpha (#000, 0.50);
    background: none;
    padding: 5px 5px 6px 5px;

    border-radius: 3px;
    border-width: 1px 1px 2px 1px;
    border-color: transparent;
    border-style: solid;
    border-image: none;
}

.titlebar .titlebutton:backdrop {
    color: alpha (#000, 0.30);
}

.window-frame {
    border-radius: 4px 4px 0 0;

    box-shadow: 0 0 0 1px alpha (#000, 0.3),
                0 2px 8px alpha (#000, 0.86);

    margin: 12px;
}

.window-frame:backdrop {
    box-shadow: 0 0 0 1px alpha (#000, 0.3),
                0 2px 5px alpha (#000, 0.58);
}
